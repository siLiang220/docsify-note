## 样式表的优先级

- 优先级规则：行内样式 > 内部样式 = 外部样式
>1. 内部样式、外部样式，这二者的优先级相同，且：后面的 会覆盖 前面的（简记：“后来者居上”）。
>2. 同一个样式表中，优先级也和编写顺序有关，且：后面的 会覆盖 前面的（简记：“后来者居上”）。


### margin 塌陷问题

**什么是 margin 塌陷？**

第一个子元素的上 `margin-top` 会作用在父元素上，最后一个子元素的下 `margin-bottom` 会作用在父元素上。
![ALT TEST](https://zhaosi-1253759587.cos.ap-nanjing.myqcloud.com/files/obsidian/picture/20230515200010.png "tiltetest")

**解决方法**
- 方案一：给父元素设置不为 0 的 `padding` 。
- 方案二：给父元素设置宽度不为 0 的 `border` 。
- 方案三：给父元素设置 css 样式 `overflow:hidden`

### margin 合并问题

**什么是margin合并**

上面兄弟元素的**下外边距**和下面兄弟元素的**上外边距**会合并，取一个最大的值，而不是相加

**解决塌陷**

无需解决，布局的时候上下的兄弟元素，只给一个设置上下外边距就可以了。

### 行内块的幽灵空白问题
![](https://zhaosi-1253759587.cos.ap-nanjing.myqcloud.com/files/obsidian/picture/20230515192302.png)

**产生的原因**：

行内块元素与文本的基线对齐，而文本的基线与文本最底端之间是有一定距离的。

**解决方案**

1. 方案一： 给行内块设置 `vertical` ，值不为 baseline 即可，设置为 `middel` 、 `bottom` 、`top` 均可。
	
1. 方案二： 若父元素中只有一张图片，设置图片为 `display:block` 。
	
1. 方案三： 给父元素设置 `font-size: 0` 。如果该行内块内部还有文本，则需单独设置 `font-size` 。

## 六、浮动

最初浮动的设计是用来实现文字环绕图片的效果

### 元素浮动后的特点
1. 🤢脱离文档流。

2. 😊不管浮动前是什么元素，浮动后：**默认宽与高都是被内容撑开**（尽可能小），而且可以设置宽高。

3. 😊不会独占一行，可以与其他元素共用一行。

4. 😊不会 margin 合并，也不会 margin 塌陷，能够完美的设置四个方向的 margin 和 padding 。

5. 😊不会像行内块一样被当做文本处理（没有行内块的空白问题）。

### 解决浮动产生的影响

#### 元素浮动产生的影响
- **对兄弟元素的影响**： 后面的兄弟元素，会占据浮动元素之前的位置（文字内容会被踢出），在浮动元素的后面；对前面的兄弟无影响。
![](https://zhaosi-1253759587.cos.ap-nanjing.myqcloud.com/files/obsidian/picture/20230516082735.png)
![](https://zhaosi-1253759587.cos.ap-nanjing.myqcloud.com/files/obsidian/picture/20230516082805.png)


- **对父元素的影响**： 不能撑起父元素的高度，导致父元素高度塌陷；但父元素的宽度依然束缚浮动的元素。
![](https://zhaosi-1253759587.cos.ap-nanjing.myqcloud.com/files/obsidian/picture/20230516082926.png)

### 解决浮动产生的影响（清除浮动）

1. 给父元素设置高度，会带来其他影响（未浮动子元素被浮动的子元素覆盖）
2. 给父元素设置浮动，也会带来其他影响（父元素的兄弟会覆盖）
3. 给父元素设置`overflow:heidden`，后变的块级元素也会被隐藏掉
4. 在所有的浮动元素后边加一个块级元素(不能是行内元素)，并给该块级元素设置`clear:both`
5. 给浮动元素的父元素，设置伪元素，通过伪元素清除浮动，原理与方案四相同。
```css
.parent::after {
	  content: "";
	  display: block;
	  clear: both;
}
```

> [!tip]
> 设置浮动的时候，**兄弟元素**要么全都浮动，要么全都不浮动。同一个元素中的子元素应该是同生共死的


### 浮动相关的属性

| CSS属性 | 功能 | 属性值 |
| --- | --- | --- |
| float | 设置浮动 | left: 设置左浮动<br>right: 设置右浮动<br>none: 不浮动，默认值 |
| clear | 清除浮动，清除前面兄弟元素浮动元素的影响 | left: 清除前面左浮动的影响<br>right: 清除前面右浮动的影响<br>both: 清除前面左右浮动的影响 |



## 定位

### 相对定位
 **如何设置相对定位？**

给元素设置 `position:relative` 即可实现相对定位。

可以使用 `left` 、 `right` 、 `top` 、 `bottom` 四个属性调整位置。

**相对定位的参考点在哪里？**

- 相对自己原来的位置

**相对定位的特点：**

1. **不会脱离文档流**，元素位置的变化，只是视觉效果上的变化，不会对其他元素产生任何影响。
2. 定位元素的显示**层级**比普通元素高，无论什么定位，显示层级都是一样的。

默认规则是：
- 定位的元素会盖在普通元素之上。
- 都发生定位的两个元素，后写的元素会盖在先写的元素之上。

1. `left` 不能和 `right` 一起设置， `top` 和 `bottom` 不能一起设置。

2. 相对定位的元素，也能继续浮动，但不推荐这样做。
![](https://zhaosi-1253759587.cos.ap-nanjing.myqcloud.com/files/obsidian/picture/20230516200244.png)


4. 相对行为的元素，也能通过 `margin` 调整位置，但不推荐这样做。

>绝大多数情况下，相对定位，会与绝对定位配合使用。

### 绝对定位

**如何设置绝对定位？**

- 给元素设置 `position: absolute` 即可实现绝对定位。

- 可以使用 `left` 、 `right` 、 `top` 、 `bottom` 四个属性调整位置。

**绝对定位的参考点在那里？**

参考他的**包含块**

>什么是包含块？
>1. 对于没有脱离文档流的元素：包含块就是父元素；
>2. 对于脱离文档流的元素：包含块是第一个拥有定位属性的祖先元素（如果所有祖先都没定位，那包含块就是整个页面）。

**绝对定位元素的特点**
1. 脱离文档流，会对后面的兄弟元素、父元素有影响。
2. `left` 不能和 `right` 一起设置， `top` 和 `bottom` 不能一起设置。
3. 绝对定位、浮动不能同时设置，如果同时设置，浮动失效，以定位为主。
4. 绝对定位的元素，也能通过 `margin` 调整位置，但不推荐这样做。
5. 无论是什么元素（行内、行内块、块级）设置为绝对定位之后，都变成了**定位元素**(可以设置宽高)。

> 定位元素 -- 默认宽高是由内容撑开，可以自由设置宽高

### 固定定位

**如何设置固定定位**
- 给元素设置 `position: fixed` 即可实现固定定位。
- 可以使用 `left` 、 `right` 、 `top` 、 `bottom` 四个属性调整位置。

**固定定位的参考点在哪里**
- 参考它的视口

**固定定位的特点**
1. 脱离文档流，会对后面的兄弟元素、父元素有影响。
2. `left` 不能和 `right` 一起设置， `top` 和 `bottom` 不能一起设置。
3.  固定定位和浮动不能同时设置，如果同时设置，浮动失效，以固定定位为主。
4.  固定定位的元素，也能通过 `margin` 调整位置，但不推荐这样做。
5.  无论是什么元素（行内、行内块、块级）设置为固定定位之后，都变成了定位元素。

### 粘性定位

**如何设置粘性定位**
- 给元素设置` position:sticky` 即可实现粘性定位。
- 可以使用 `left` 、 `right`` `、 `top` 、 `bottom` 四个属性调整位置，不过最常用的是 top 值。

**粘性定位的参考点在哪里**
- 离它最近的一个拥有“滚动机制”（滚动条）的祖先元素，即便这个祖先不是最近的真实可滚动祖先。

**粘性定位何时失效**

**粘性定位元素的特点**

- 不会脱离文档流，它是一种专门用于窗口滚动时的新的定位方式。
- 最常用的值是 top 值。
- 粘性定位和浮动可以同时设置，但不推荐这样做。
- 粘性定位的元素，也能通过 margin 调整位置，但不推荐这样做。

>粘性定位和相对定位的特点基本一致，不同的是：粘性定位可以在元素到达某个位置时将其固定。


### 定位层级
1. 定位元素的显示层级比普通元素的层级高，无论什么定位，显示层级都是一样的
2. 如果位置发生重叠，默认情况下：后面的元素显示在前面元素的之上
3. 可以通过`css` 的`z-index`设置元素的显示层级,`z-index`的属性值是数字没有单位，数字越大显示的层级越高
4. 只有**定位元素**设置`z-index`才有效
5. 如果 `z-index` 值大的元素，依然没有覆盖掉 `z-index `值小的元素，那么请检查其包含块的层级(可能是包含块的`z-index`值小)