命令模式是把逻辑实现与操作请求分离，降低耦合，方便扩展  
- 抽象的命令类：声明执行命令的接口和方法  
- 具体命令的实现类：接口类的具体实现可以是一组相识的行为逻辑  
- 实现者：给命令开发执行逻辑的具体实现类  
- 调用者：处理命令，实现的具体操作者，负责对外提供命令服务

```java

public interface IAction {

    void execute();
		
}

```
具体的命令实现者
```java

public class PlayAction implements IAction {

    private GPlayer gplayer;

    public PlayAction(GPlayer gplayer) {
        this.gplayer = gplayer;
    }

    public void execute() {
        gplayer.play();
    }
		
}



public class PauseAction implements IAction {

    private GPlayer gplayer;

    public PauseAction(GPlayer gplayer) {
        this.gplayer = gplayer;
    }

    public void execute() {
        gplayer.pause();
    }
		
}


public class SpeedAction implements IAction {

    private GPlayer gplayer;

    public SpeedAction(GPlayer gplayer) {
        this.gplayer = gplayer;
    }

    public void execute() {
        gplayer.speed();
    }
		
}


public class StopAction implements IAction {

    private GPlayer gplayer;

    public StopAction(GPlayer gplayer) {
        this.gplayer = gplayer;
    }

    public void execute() {
        gplayer.stop();
    }
}



public class StopAction implements IAction {

    private GPlayer gplayer;

    public StopAction(GPlayer gplayer) {
        this.gplayer = gplayer;
    }

    public void execute() {
        gplayer.stop();
    }
}


```
实现者 可以定义为抽象
```java

public class GPlayer {

    public void play(){
        System.out.println("正常播放");
    }

    public void speed(){
        System.out.println("拖动进度条");
    }

    public void stop(){
        System.out.println("停止播放");
    }

    public void pause(){
        System.out.println("暂停播放");
    }
		
}

```
调用者
```java

public class Controller {
    private List<IAction> actions = new ArrayList<IAction>();
    public void addAction(IAction action){
        actions.add(action);
    }

    public void execute(IAction action){
        action.execute();
    }

    public void executes(){
        for(IAction action : actions){
            action.execute();
        }
        actions.clear();
    }
}
	
```
测试
```java

public static void main(String[] args) {

        GPlayer player = new GPlayer();
        Controller controller = new Controller();
        controller.execute(new PlayAction(player));

        controller.addAction(new PauseAction(player));
        controller.addAction(new PlayAction(player));
        controller.addAction(new StopAction(player));
        controller.addAction(new SpeedAction(player));
        controller.executes();
}

```
#### spring实现
定义 command
```
public interface Command {
    void execute();
}
```

定义 Recevier
```java
@Component
public class Light {

    public void turnOn() {
        System.out.println("The light is on");
    }

    public void turnOff() {
        System.out.println("The light is off");
    }
}

```
实现Command
```java
public class SwitchOnCommand implements Command{
    private final Light light;

    public SwitchOnCommand(Light light) {
        this.light = light;
    }

    @Override // Command
    public void execute() {
        light.turnOn();
    }
}


public class SwitchOffCommand implements Command {
    private final Light light;

    public SwitchOffCommand(Light light) {
        this.light = light;
    }

    @Override // Command
    public void execute() {
        light.turnOff();
    }
}

```
配置bean
```java
@Configuration
public class MultiBeanConf {

    @Bean(name = "lightOff")
    Command getSwitchOffCommand(@Autowired Light light){
        return new SwitchOffCommand(light);
    }

    @Bean(name = "lightOn")
    Command getSwitchOnCommand(@Autowired Light light){
        return new SwitchOnCommand(light);
    }

}

```
实现Invoker
```java
@Service
public class SwitchInvoker {
    @Autowired
    Map<String,Command> commandMap;

    public void invoke(String commandName){
        commandMap.get(commandName).execute();
    }

}

```
测试
```java
@SpringBootTest
class CommandApplicationTests {

	@Autowired
	private SwitchInvoker switchInvoker;

	@Test
	public void switchInvokerTest(){
		switchInvoker.invoke("lightOn");
		switchInvoker.invoke("lightOff");
	}
}


```